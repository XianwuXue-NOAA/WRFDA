<html>

<head>

<title>WRFDA Tech Notes</title>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

<meta name="KEYWORDS" content="meteorology, mesoscale, microscale, weather modeling, forecasting weather, weather prediction, predictability, cloud systems, boundary layers, surface-atmosphere interactions, convective cloud systems, atmospheric chemistry, precipitating weather systems, wildfire research, National Center for Atmospheric Research">

<meta name="DESCRIPTION" content="WRF Mesoscale Model Users homepage">

<meta name="ROBOTS" content="INDEX,FOLLOW">

<meta name="resource-type" content="document">

<meta http-equiv="expires" content="0">

<meta name="author" content="MMM Webmaster">

<meta name="copyright" content="Copyright (c) 2016 by UCAR">

<meta name="revisit-after" content="1 days">

<meta name="distribution" content="Global">

<meta name="rating" content="General">





<SCRIPT language=JavaScript src="scripts/menu_array.js" type=text/javascript></SCRIPT>

<SCRIPT language=JavaScript src="scripts/mmenu.js" type=text/javascript></SCRIPT>





<link href="images/wrfstyle.css" rel="stylesheet" type="text/css">
</head>



<body bgcolor="#FFFFFF" link="#000099" vlink="#000099" alink="#FF3300" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">

<table width="100%" border="0" cellspacing="0" cellpadding="0">

  <tr bgcolor="#000000">

    <td height="10" bgcolor="#000000"><div align="left"><img src="images/transgif.gif" width="1" height="1"></div>

    </td>

  </tr>

  <tr valign="top">

    <td height="10" bgcolor="#DDFFDD"><img src="images/header_new_cropped.png" height="56" border="0"></td>

  </tr>

  <tr bgcolor="#FFCC33">

    <td height="6" background="images/goldrule.jpg" bgcolor="#009933"><img src="images/goldrule.jpg" width="1" height="1"></td>

  </tr>

  <tr>

    <td height="34" bgcolor="#009933">&nbsp;</td>

  </tr>

  <tr>

    <td height="2" bgcolor="#ffcc66"><img src="images/transgif.gif" width="1" height="1"></td>

  </tr>

</table>

<table width="100%" height="89%" border="0" cellpadding="0" cellspacing="0" class="background">

  <tr>

    <td width="100%" height="1282" valign="top" bgcolor="#CBFFCD"><table width="780" border="0" cellpadding="0" cellspacing="0">

      <tr valign="top">

        <td width="117" height="880" bgcolor="#009933"><p>&nbsp;</p>

          <table width="117" border="0" align="center" cellpadding="0" cellspacing="0">
            <tr>
                <p align="center"><a href="publications.html" class="leftnavlink">WRFDA Publications</a></p>
              <td><p align="center" style="border-width: 5px;border-style: solid;border-color: #CBFFCD;background-color: #CBFFCD;font-family: Arial; line-height: 10pt;font-weight: bold;">Technical Notes</p>
                <p align="center"><a href="code_viewer/index.html" class="leftnavlink">WRFDA Code Browser</a></p>
                <p align="center"><a href="Docs/user_guide_V3.8/WRFDA_Users_Guide.html" class="leftnavlink">User's Guide V3.8</a></p>
                <p align="center"><a href="Docs/user_guide_V3.7.1/WRFDA_Users_Guide.html" class="leftnavlink">User's Guide V3.7.1</a></p>
                <p align="center"><a href="Docs/user_guide_V3.7/WRFDA_Users_Guide.html" class="leftnavlink">User's Guide V3.7</a></p>
                <p align="center"><a href="Docs/user_guide_V3.6.1/WRFDA_Users_Guide.html" class="leftnavlink">User's Guide V3.6.1</a></p>
                <p align="center"><a href="Docs/user_guide_V3.6/WRFDA_Users_Guide.html" class="leftnavlink">User's Guide V3.6</a></p>
                <p align="center"><a href="Docs/user_guide_V3.5.1/WRFDA_Users_Guide.html" class="leftnavlink">User's Guide V3.5.1</a></p>
                <p align="center"><a href="Docs/user_guide_V3.5/WRFDA_Users_Guide.html" class="leftnavlink">User's Guide V3.5</a></p>
                <p align="center"><a href="Docs/user_guide_V3.4.1/users_guide_chap6.htm" class="leftnavlink">User's Guide V3.4.1</a></p>
                <p align="center"><a href="Docs/user_guide_V3.4/users_guide_chap6.htm" class="leftnavlink">User's Guide V3.4</a></p>
                <p align="center"><a href="Docs/user_guide_V3.3/users_guide_chap6.htm" class="leftnavlink">User's Guide V3.3</a></p>
                <p align="center"><a href="Docs/older_usersguides.html" class="leftnavlink">Older versions</a></p>
                <p align="center"><a href="OnlineTutorial/index.html" class="leftnavlink">WRFDA Online Tutorial</a></p>
                <p align="center"><a href="how_to_compile.html" class="leftnavlink">How to compile WRFDA</a></p>
                <p align="center"><a href="yellowstone.html" class="leftnavlink">WRFDA on Yellowstone</a></p>
                <p align="center"><a href="readBUFR.html" class="leftnavlink">Reading BUFR files</a></p>
              </td>
            </tr>
          </table>          

          <p>&nbsp;</p>          <p>&nbsp;</p>          <img src="images/shim112.gif" width="112" height="1"></td>

          <td bgcolor="#CBFFCD"><p>&nbsp;</p>
            <p class="pagetitle">Background Error Statistics</p>
            <p class="bodytext">Here is the collection of documentation for GEN_BE and backround error covariance in WRFDA; some of them are old and may not match the latest code. Please use them as reference only.</p>
            <p class="bodytext"><a href="Docs/wrfvar_cvoptions3.html">Documentation on CV_OPTIONS=3 in WRF-Var</a></p>
            <p class="bodytext"><a href="Docs/gen_be.htm">Gen_be_overview for CV_OPTIONS=5</a></p>
            <p class="bodytext"><a href="Docs/gen_be_structure_v0-2.html">Gen_be_structure for CV_OPTIONS=5</a></p>
            <p class="bodytext"><a href="Docs/NMC_Stage0_for_WRF.pdf" target="_self">Gen_be_Stage0 for CV_OPTIONS=5</a></p>
            <p class="bodytext">&nbsp;</p>
            <p class="pagetitle">Satellite radiance data assimilation</p>
            <p class="bodytext"><a href="readBUFR.html">Tips on how to read radiance bufr data on different pltforms and compilers</a></p>
            <p class="bodytext"><a href="Docs/radiance_userguide_v1.pdf">Users' guide for radiance data assimilation (<em>draft version</em>)</a></p>
            <p class="pagetitle">4D-Var</p>
            <p class="bodytext_no_indent">&nbsp;</p>
            <p class="pagetitle">WRF Data Assimilation System Coding Standards</p>
            <blockquote>
              <p><strong><span class="bodytext_no_indent"><strong>These standards must apply to all da_ prefixed routines. We don't aspire to fix contributed code.</strong></span></strong></p>
              <h1><strong>Fortran</strong></h1>
            </blockquote>
            <ul>
              <li><span class="bodytext_no_indent">All USE statements should have ONLY and specify exactly what module items they use</span><span class="bodytext_no_indent"><br>
              </span></li>
              <li><span class="bodytext_no_indent">Lower case filenames, function, module and subroutine names<br>
              </span></li>
              <li><span class="bodytext_no_indent">&quot;Implicit none&quot; in every subroutine.<br>
              </span></li>
              <li><span class="bodytext_no_indent">Keep within 100 columns<br>
              </span></li>
              <li><span class="bodytext_no_indent">Do not use DIMENSION keyword in variable declarations<br>
              </span></li>
              <li><span class="bodytext_no_indent">Lower-case throughout (exception - environment variables in scripts).<br>
              </span></li>
              <li><span class="bodytext_no_indent">One subroutine per file.<br>
              </span></li>
              <li><span class="bodytext_no_indent">Indent if/do blocks by 3 spaces.<br>
              </span></li>
              <li><span class="bodytext_no_indent">Only label do loops if exit/cycle would be ambiguous<br>
              </span></li>
              <li><span class="bodytext_no_indent">Only CONTINUE statements can have numeric labels<br>
              </span></li>
              <li><span class="bodytext_no_indent">Use descriptive names for variables/subroutines when usage is unique (e.g. psichi_to_uv).<br>
              </span></li>
              <li><span class="bodytext_no_indent">Use generic names for variables/subroutines when usage is varied, i.e. maintain flexibility - e.g. field(:,:, for general interpolation routines.<br>
              </span></li>
              <li><span class="bodytext_no_indent">Include compact, informative comments for each group of operations.<br>
              </span></li>
              <li><span class="bodytext_no_indent">Any commented out declaration or code must have an associated comment saying why.<br>
              </span></li>
              <li><span class="bodytext_no_indent">Do not mix changes - commit separately to help reviews understand what they are reviewing (tidying changes should be performed separately from other changes for which there is non-zero impact).<br>
              </span></li>
              <li><span class="bodytext_no_indent">All IO using units defined by da_get_unit, da_free_unit system<br>
              </span></li>
              <li><span class="bodytext_no_indent">Use statements only occur in modules, not individual routines<br>
              </span></li>
              <li><span class="bodytext_no_indent">No unused variables. Assigning and then not using variables is only allowed for reading pad data in IO routines.<br>
              </span></li>
              <li><span class="bodytext_no_indent">No unused types coming through use statements. Use _use x, only : _ construct<br>
              </span></li>
              <li><span class="bodytext_no_indent">Do not pass different levels of a derived data into a routine, so call x(grid,grid%xb) is bad.<br>
              </span></li>
              <li><span class="bodytext_no_indent">all types should end _type<br>
              </span></li>
              <li><span class="bodytext_no_indent">Refer to real constants as 0.0, not 0.<br>
                wrfvar/da/da_obs has examples of good practice.</span></li>
            </ul>
            <blockquote>
              <h1>NCL</h1>
            </blockquote>
            <ul>
              <li><span class="bodytext_no_indent">All do and if blocks should be indented by 3 spaces<br>
              </span></li>
              <li><span class="bodytext_no_indent">Comments should be indented with code<br>
              </span></li>
              <li><span class="bodytext_no_indent">Blank lines should be used as seperators, not blank comments or lines of dashes etc</span></li>
            </ul>            <p class="bodytext">&nbsp;</p>            <img src="images/transgif.gif" width="1" height="1"><img src="images/shim162.gif" width="162" height="1"></td>
        </tr>


    </table></td>
  </tr>

  <tr>

    <td height="50" bgcolor="#009933" class="detailtext">&nbsp;</td>
  </tr>
</table>

</body>

</html>

