Change Log for update to WRF 3DVAR code
---------------------------------------

Author: 	Wei
Reviewer: 	
Date: 		10/12/04

Reason for changes (explain before making changes)
--------------------------------------------------

Add portibility for cray-x1.

Expected Differences
--------------------

None.

Test results (run on what machines?)
------------------------------------------------------

1) MM5/WRF tests: IBM/Cray 1PE differences.

   WRF has same cost function for all iteration
   MM5 starts different at 20th iteration.

2) Cray 1/multi-PE differences.

   WRF has no difference (for all iteration)
   MM5 starts different at 21th iteration.

3) CPU comparison (CPU times list below).

   a. Cray-X1 (sn702, the machine I used) is about 3-4 times slower than
IBM (bluesky).
      But as both are not dedicated machine, this may have big bias.
Cray-X1 is slower
      may also because the machine I can access is a very small machine
which only have
      4 processors.

   b. Speed up (from 1pe to 4 pe).
      i) WRF
         IBM: 1.8
         Cray-X1: 2.7
      ii) MM5
          IBM: 3.0
          Cray-X1: 2.8

(detailed below)

a) wrf3dvar with wrf_3dvar_input (case_2000012412)
On IBM (bluesky):
1pe:

    n=  131400   number of corrections= 4
    f=  4.827D+03   gnorm=  3.226D+02
    *************************************************

     I   NFN          FUNC          GNORM          STEPLENGTH
     0    1    4.82686653D+03   3.22624858D+02   3.09957518D-03
     1    2    4.58351800D+03   1.74122275D+02   3.09957518D-03
     2    3    4.43347519D+03   9.09158449D+01   1.00000000D+00
     3    4    4.36997710D+03   8.96840906D+01   1.00000000D+00
     4    5    4.25963225D+03   1.10407752D+02   1.00000000D+00
     5    6    4.20367462D+03   1.35217261D+02   1.00000000D+00
     6    7    4.14927344D+03   6.44095362D+01   1.00000000D+00
     7    8    4.10477889D+03   4.58707958D+01   1.00000000D+00
     8    9    4.08293261D+03   3.98149158D+01   1.00000000D+00
     9   10    4.06131631D+03   4.43375668D+01   1.00000000D+00
    10   11    4.04301168D+03   4.04361271D+01   1.00000000D+00
    11   12    4.03292229D+03   2.22829578D+01   1.00000000D+00
    12   13    4.02669539D+03   2.35078354D+01   1.00000000D+00
    13   14    4.02261219D+03   2.03890159D+01   1.00000000D+00
    14   15    4.01711507D+03   1.74850594D+01   1.00000000D+00
    15   16    4.01133322D+03   1.83733393D+01   1.00000000D+00
    16   17    4.01015238D+03   3.61606101D+01   1.00000000D+00
    17   18    4.00669477D+03   1.25837901D+01   1.00000000D+00
    18   19    4.00536918D+03   8.44538540D+00   1.00000000D+00
    19   20    4.00386394D+03   9.92716176D+00   1.00000000D+00
    20   21    4.00262679D+03   2.39871319D+01   1.00000000D+00
    21   22    4.00088618D+03   8.02844816D+00   1.00000000D+00
    22   23    4.00013617D+03   6.68568493D+00   1.00000000D+00
    23   24    3.99943117D+03   7.00010542D+00   1.00000000D+00
    24   26    3.99896813D+03   1.05920886D+01   5.23897958D-01
    25   27    3.99846007D+03   4.56590188D+00   1.00000000D+00
    26   28    3.99823672D+03   3.52873499D+00   1.00000000D+00
    27   29    3.99799582D+03   4.31852322D+00   1.00000000D+00
    28   31    3.99785072D+03   6.86060356D+00   4.85032514D-01
    29   32    3.99768427D+03   3.45770262D+00   1.00000000D+00
    30   33    3.99759757D+03   1.81414762D+00   1.00000000D+00

    Final cost function J  =  3997.59756660945823
 
Timing for Writing 3dvar output for domain        1:  116.19000 elapsed seconds.

4pe:

    n=   34410   number of corrections= 4
    f=  4.827D+03   gnorm=  3.226D+02
    *************************************************

     I   NFN          FUNC          GNORM          STEPLENGTH
     0    1    4.82686653D+03   3.22624858D+02   3.09957518D-03
     1    2    4.58351800D+03   1.74122275D+02   3.09957518D-03
     2    3    4.43347519D+03   9.09158449D+01   1.00000000D+00
     3    4    4.36997710D+03   8.96840906D+01   1.00000000D+00
     4    5    4.25963225D+03   1.10407752D+02   1.00000000D+00
     5    6    4.20367462D+03   1.35217261D+02   1.00000000D+00
     6    7    4.14927344D+03   6.44095362D+01   1.00000000D+00
     7    8    4.10477889D+03   4.58707958D+01   1.00000000D+00
     8    9    4.08293261D+03   3.98149158D+01   1.00000000D+00
     9   10    4.06131631D+03   4.43375668D+01   1.00000000D+00
    10   11    4.04301168D+03   4.04361271D+01   1.00000000D+00
    11   12    4.03292229D+03   2.22829578D+01   1.00000000D+00
    12   13    4.02669539D+03   2.35078354D+01   1.00000000D+00
    13   14    4.02261219D+03   2.03890159D+01   1.00000000D+00
    14   15    4.01711507D+03   1.74850594D+01   1.00000000D+00
    15   16    4.01133322D+03   1.83733393D+01   1.00000000D+00
    16   17    4.01015238D+03   3.61606101D+01   1.00000000D+00
    17   18    4.00669477D+03   1.25837901D+01   1.00000000D+00
    18   19    4.00536918D+03   8.44538540D+00   1.00000000D+00
    19   20    4.00386394D+03   9.92716176D+00   1.00000000D+00
    20   21    4.00262679D+03   2.39871318D+01   1.00000000D+00
    21   22    4.00088618D+03   8.02844816D+00   1.00000000D+00
    22   23    4.00013617D+03   6.68568493D+00   1.00000000D+00
    23   24    3.99943117D+03   7.00010542D+00   1.00000000D+00
    24   26    3.99896813D+03   1.05920886D+01   5.23897958D-01
    25   27    3.99846007D+03   4.56590188D+00   1.00000000D+00
    26   28    3.99823672D+03   3.52873499D+00   1.00000000D+00
    27   29    3.99799582D+03   4.31852322D+00   1.00000000D+00
    28   31    3.99785072D+03   6.86060356D+00   4.85032514D-01
    29   32    3.99768427D+03   3.45770262D+00   1.00000000D+00
    30   33    3.99759757D+03   1.81414762D+00   1.00000000D+00

    Final cost function J  =  3997.59756660945914

Timing for Writing 3dvar output for domain        1:   62.83000 elapsed seconds.

16pe:

    n=    9120   number of corrections= 4
    f=  4.827D+03   gnorm=  3.226D+02
    *************************************************

     I   NFN          FUNC          GNORM          STEPLENGTH
     0    1    4.82686653D+03   3.22624858D+02   3.09957518D-03
     1    2    4.58351800D+03   1.74122275D+02   3.09957518D-03
     2    3    4.43347519D+03   9.09158449D+01   1.00000000D+00
     3    4    4.36997710D+03   8.96840906D+01   1.00000000D+00
     4    5    4.25963225D+03   1.10407752D+02   1.00000000D+00
     5    6    4.20367462D+03   1.35217261D+02   1.00000000D+00
     6    7    4.14927344D+03   6.44095362D+01   1.00000000D+00
     7    8    4.10477889D+03   4.58707958D+01   1.00000000D+00
     8    9    4.08293261D+03   3.98149158D+01   1.00000000D+00
     9   10    4.06131631D+03   4.43375668D+01   1.00000000D+00
    10   11    4.04301168D+03   4.04361271D+01   1.00000000D+00
    11   12    4.03292229D+03   2.22829578D+01   1.00000000D+00
    12   13    4.02669539D+03   2.35078354D+01   1.00000000D+00
    13   14    4.02261219D+03   2.03890159D+01   1.00000000D+00
    14   15    4.01711507D+03   1.74850594D+01   1.00000000D+00
    15   16    4.01133322D+03   1.83733393D+01   1.00000000D+00
    16   17    4.01015238D+03   3.61606101D+01   1.00000000D+00
    17   18    4.00669477D+03   1.25837901D+01   1.00000000D+00
    18   19    4.00536918D+03   8.44538540D+00   1.00000000D+00
    19   20    4.00386394D+03   9.92716176D+00   1.00000000D+00
    20   21    4.00262679D+03   2.39871319D+01   1.00000000D+00
    21   22    4.00088618D+03   8.02844816D+00   1.00000000D+00
    22   23    4.00013617D+03   6.68568493D+00   1.00000000D+00
    23   24    3.99943117D+03   7.00010542D+00   1.00000000D+00
    24   26    3.99896813D+03   1.05920886D+01   5.23897958D-01
    25   27    3.99846007D+03   4.56590188D+00   1.00000000D+00
    26   28    3.99823672D+03   3.52873499D+00   1.00000000D+00
    27   29    3.99799582D+03   4.31852322D+00   1.00000000D+00
    28   31    3.99785072D+03   6.86060356D+00   4.85032514D-01
    29   32    3.99768427D+03   3.45770262D+00   1.00000000D+00
    30   33    3.99759757D+03   1.81414762D+00   1.00000000D+00
 
    Final cost function J  =  3997.59756660946096

Timing for Writing 3dvar output for domain        1:   40.53000 elapsed seconds.

On Cray-X1:

1pe:

    n=  131400   number of corrections= 4
    f=  4.827E+03   gnorm=  3.226E+02
    *************************************************

     I   NFN          FUNC          GNORM          STEPLENGTH
     0    1    4.82686653E+03   3.22624858E+02   3.09957518E-03
     1    2    4.58351800E+03   1.74122275E+02   3.09957518E-03
     2    3    4.43347519E+03   9.09158449E+01   1.00000000E+00
     3    4    4.36997710E+03   8.96840906E+01   1.00000000E+00
     4    5    4.25963225E+03   1.10407752E+02   1.00000000E+00
     5    6    4.20367462E+03   1.35217261E+02   1.00000000E+00
     6    7    4.14927344E+03   6.44095362E+01   1.00000000E+00
     7    8    4.10477889E+03   4.58707958E+01   1.00000000E+00
     8    9    4.08293261E+03   3.98149158E+01   1.00000000E+00
     9   10    4.06131631E+03   4.43375668E+01   1.00000000E+00
    10   11    4.04301168E+03   4.04361271E+01   1.00000000E+00
    11   12    4.03292229E+03   2.22829578E+01   1.00000000E+00
    12   13    4.02669539E+03   2.35078354E+01   1.00000000E+00
    13   14    4.02261219E+03   2.03890159E+01   1.00000000E+00
    14   15    4.01711507E+03   1.74850594E+01   1.00000000E+00
    15   16    4.01133322E+03   1.83733393E+01   1.00000000E+00
    16   17    4.01015238E+03   3.61606101E+01   1.00000000E+00
    17   18    4.00669477E+03   1.25837901E+01   1.00000000E+00
    18   19    4.00536918E+03   8.44538540E+00   1.00000000E+00
    19   20    4.00386394E+03   9.92716176E+00   1.00000000E+00
    20   21    4.00262679E+03   2.39871319E+01   1.00000000E+00
    21   22    4.00088618E+03   8.02844816E+00   1.00000000E+00
    22   23    4.00013617E+03   6.68568493E+00   1.00000000E+00
    23   24    3.99943117E+03   7.00010542E+00   1.00000000E+00
    24   26    3.99896813E+03   1.05920886E+01   5.23897958E-01
    25   27    3.99846007E+03   4.56590188E+00   1.00000000E+00
    26   28    3.99823672E+03   3.52873499E+00   1.00000000E+00
    27   29    3.99799582E+03   4.31852322E+00   1.00000000E+00
    28   31    3.99785072E+03   6.86060356E+00   4.85032514E-01
    29   32    3.99768427E+03   3.45770262E+00   1.00000000E+00
    30   33    3.99759757E+03   1.81414762E+00   1.00000000E+00
 
    Final cost function J  =  3997.5975666094623
 
Timing for Writing 3dvar output for domain        1:  341.78961 elapsed seconds.

4pe:

    n=   34410   number of corrections= 4
    f=  4.827E+03   gnorm=  3.226E+02
    *************************************************

     I   NFN          FUNC          GNORM          STEPLENGTH
     0    1    4.82686653E+03   3.22624858E+02   3.09957518E-03
     1    2    4.58351800E+03   1.74122275E+02   3.09957518E-03
     2    3    4.43347519E+03   9.09158449E+01   1.00000000E+00
     3    4    4.36997710E+03   8.96840906E+01   1.00000000E+00
     4    5    4.25963225E+03   1.10407752E+02   1.00000000E+00
     5    6    4.20367462E+03   1.35217261E+02   1.00000000E+00
     6    7    4.14927344E+03   6.44095362E+01   1.00000000E+00
     7    8    4.10477889E+03   4.58707958E+01   1.00000000E+00
     8    9    4.08293261E+03   3.98149158E+01   1.00000000E+00
     9   10    4.06131631E+03   4.43375668E+01   1.00000000E+00
    10   11    4.04301168E+03   4.04361271E+01   1.00000000E+00
    11   12    4.03292229E+03   2.22829578E+01   1.00000000E+00
    12   13    4.02669539E+03   2.35078354E+01   1.00000000E+00
    13   14    4.02261219E+03   2.03890159E+01   1.00000000E+00
    14   15    4.01711507E+03   1.74850594E+01   1.00000000E+00
    15   16    4.01133322E+03   1.83733393E+01   1.00000000E+00
    16   17    4.01015238E+03   3.61606101E+01   1.00000000E+00
    17   18    4.00669477E+03   1.25837901E+01   1.00000000E+00
    18   19    4.00536918E+03   8.44538540E+00   1.00000000E+00
    19   20    4.00386394E+03   9.92716176E+00   1.00000000E+00
    20   21    4.00262679E+03   2.39871319E+01   1.00000000E+00
    21   22    4.00088618E+03   8.02844816E+00   1.00000000E+00
    22   23    4.00013617E+03   6.68568493E+00   1.00000000E+00
    23   24    3.99943117E+03   7.00010542E+00   1.00000000E+00
    24   26    3.99896813E+03   1.05920886E+01   5.23897958E-01
    25   27    3.99846007E+03   4.56590188E+00   1.00000000E+00
    26   28    3.99823672E+03   3.52873499E+00   1.00000000E+00
    27   29    3.99799582E+03   4.31852322E+00   1.00000000E+00
    28   31    3.99785072E+03   6.86060356E+00   4.85032514E-01
    29   32    3.99768427E+03   3.45770262E+00   1.00000000E+00
    30   33    3.99759757E+03   1.81414762E+00   1.00000000E+00

    Final cost function J  =  3997.5975666094632
 
Timing for Writing 3dvar output for domain        1:  125.58174 elapsed seconds.

b) wrf3dvar with MM5 as fg (case_1999081912, Typhoon Sam)
On IBM (bluesky):

1pe:

  Starting Cost function:  4.54465524D+04 Gradient=  2.21889237D+03
 ----------------------------------------------------------

   Iter     CG_Gradient           Step
 
    1      1.19135629D+03      4.94539806D-03
    2      9.13036220D+02      5.70712755D-03
    3      7.44383826D+02      5.58091844D-03
    4      6.98442815D+02      7.33628505D-03
    5      5.64561963D+02      4.64687321D-03
    6      4.95376251D+02      5.67876045D-03
    7      3.92810637D+02      6.18759768D-03
    8      3.65972566D+02      1.21637057D-02
    9      3.10229616D+02      9.17075494D-03
   10      3.18275023D+02      8.64671381D-03
   11      2.32006892D+02      7.66077501D-03
   12      1.93680468D+02      1.56023298D-02
   13      1.78883163D+02      1.13665569D-02
   14      1.50774025D+02      1.07810138D-02
   15      1.22481235D+02      1.44003018D-02
   16      1.09962686D+02      1.68372506D-02
   17      1.08693261D+02      1.65423820D-02
   18      8.70668493D+01      1.45567228D-02
   19      7.86223268D+01      1.60954398D-02
   20      6.63133428D+01      1.58409026D-02
   21      5.48995132D+01      1.62297673D-02
   22      4.84717139D+01      1.70596301D-02
   23      3.86118243D+01      1.92954618D-02
   24      6.53303581D+01      1.99476243D-02
   25      3.52961560D+01      2.90320552D-03
   26      3.15775723D+01      2.09362122D-02
   27      4.76015986D+01      1.06136305D-02
   28      2.66552452D+01      5.64195691D-03
   29      1.84562977D+01      1.92520422D-02
 
    Final cost function J  =  18180.7979237627951
 
Timing for Time elapsed in 3dvar:  109.98000 elapsed seconds.

4pe:

  For this outer iteration Gradient target is  2.21889237D+01
  Starting Cost function:  4.54465524D+04 Gradient=  2.21889237D+03
 ----------------------------------------------------------

   Iter     CG_Gradient           Step
 
    1      1.19135629D+03      4.94539806D-03
    2      9.13036220D+02      5.70712755D-03
    3      7.44383826D+02      5.58091844D-03
    4      6.98442815D+02      7.33628505D-03
    5      5.64561963D+02      4.64687321D-03
    6      4.95376251D+02      5.67876045D-03
    7      3.92810637D+02      6.18759768D-03
    8      3.65972566D+02      1.21637057D-02
    9      3.10229616D+02      9.17075494D-03
   10      3.18275023D+02      8.64671381D-03
   11      2.32006892D+02      7.66077501D-03
   12      1.93680468D+02      1.56023298D-02
   13      1.78883163D+02      1.13665569D-02
   14      1.50774025D+02      1.07810138D-02
   15      1.22481235D+02      1.44003018D-02
   16      1.09962686D+02      1.68372506D-02
   17      1.08693261D+02      1.65423820D-02
   18      8.70668493D+01      1.45567228D-02
   19      7.86223268D+01      1.60954398D-02
   20      6.63133424D+01      1.58409026D-02
   21      5.48994862D+01      1.62297689D-02
   22      4.84697523D+01      1.70597772D-02
   23      3.83886226D+01      1.93112377D-02
   24      5.50582974D+01      2.27363119D-02
   25      3.77620241D+01      2.95974895D-03
   26      2.96786969D+01      1.82284613D-02
   27      2.67460096D+01      2.24258896D-02
   28      2.07889283D+01      2.13272629D-02
 
    Final cost function J  =  18181.6699531792110

Timing for Time elapsed in 3dvar:   36.54000 elapsed seconds.

16pe:

  Starting Cost function:  4.54465524D+04 Gradient=  2.21889237D+03
 ----------------------------------------------------------

   Iter     CG_Gradient           Step
 
    1      1.19135629D+03      4.94539806D-03
    2      9.13036220D+02      5.70712755D-03
    3      7.44383826D+02      5.58091844D-03
    4      6.98442815D+02      7.33628505D-03
    5      5.64561963D+02      4.64687321D-03
    6      4.95376251D+02      5.67876045D-03
    7      3.92810637D+02      6.18759768D-03
    8      3.65972566D+02      1.21637057D-02
    9      3.10229616D+02      9.17075494D-03
   10      3.18275023D+02      8.64671381D-03
   11      2.32006892D+02      7.66077501D-03
   12      1.93680468D+02      1.56023298D-02
   13      1.78883163D+02      1.13665569D-02
   14      1.50774025D+02      1.07810138D-02
   15      1.22481235D+02      1.44003018D-02
   16      1.09962686D+02      1.68372506D-02
   17      1.08693261D+02      1.65423820D-02
   18      8.70668493D+01      1.45567228D-02
   19      7.86223268D+01      1.60954398D-02
   20      6.63133421D+01      1.58409026D-02
   21      5.48994680D+01      1.62297699D-02
   22      4.84684076D+01      1.70598771D-02
   23      3.82329086D+01      1.93221237D-02
   24      3.90551843D+01      2.52466211D-02
   25      5.13047744D+01      5.61035637D-03
   26      2.98167174D+01      8.73844316D-03
   27      2.74499507D+01      2.20936052D-02
   28      4.00934088D+01      1.46520170D-02
   29      1.92338918D+01      3.81338768D-03
 
    Final cost function J  =  18180.7613255815195
 
Timing for Time elapsed in 3dvar:   16.19000 elapsed seconds.


On Cray-X1:

1pe:

  Starting Cost function:  4.54465524E+04 Gradient=  2.21889237E+03
 ----------------------------------------------------------

   Iter     CG_Gradient           Step
 
    1      1.19135629E+03      4.94539806E-03
    2      9.13036220E+02      5.70712755E-03
    3      7.44383826E+02      5.58091844E-03
    4      6.98442815E+02      7.33628505E-03
    5      5.64561963E+02      4.64687321E-03
    6      4.95376251E+02      5.67876045E-03
    7      3.92810637E+02      6.18759768E-03
    8      3.65972566E+02      1.21637057E-02
    9      3.10229616E+02      9.17075494E-03
   10      3.18275023E+02      8.64671381E-03
   11      2.32006892E+02      7.66077501E-03
   12      1.93680468E+02      1.56023298E-02
   13      1.78883163E+02      1.13665569E-02
   14      1.50774025E+02      1.07810138E-02
   15      1.22481235E+02      1.44003018E-02
   16      1.09962686E+02      1.68372506E-02
   17      1.08693261E+02      1.65423820E-02
   18      8.70668493E+01      1.45567228E-02
   19      7.86223268E+01      1.60954398E-02
   20      6.63133421E+01      1.58409026E-02
   21      5.48994645E+01      1.62297701E-02
   22      4.84681452E+01      1.70598966E-02
   23      3.82024229E+01      1.93242486E-02
   24      3.37271340E+01      2.58089129E-02
   25      4.54298498E+01      2.19292698E-02
   26      3.53472409E+01      3.21068355E-03
   27      2.67776539E+01      1.51789597E-02
   28      2.00050576E+01      2.13764284E-02
 
    Final cost function J  =  18181.631505074864

Timing for Time elapsed in 3dvar:  454.60283 elapsed seconds.

4pe:

  Starting Cost function:  4.54465524E+04 Gradient=  2.21889237E+03
 ----------------------------------------------------------

   Iter     CG_Gradient           Step
 
    1      1.19135629E+03      4.94539806E-03
    2      9.13036220E+02      5.70712755E-03
    3      7.44383826E+02      5.58091844E-03
    4      6.98442815E+02      7.33628505E-03
    5      5.64561963E+02      4.64687321E-03
    6      4.95376251E+02      5.67876045E-03
    7      3.92810637E+02      6.18759768E-03
    8      3.65972566E+02      1.21637057E-02
    9      3.10229616E+02      9.17075494E-03
   10      3.18275023E+02      8.64671381E-03
   11      2.32006892E+02      7.66077501E-03
   12      1.93680468E+02      1.56023298E-02
   13      1.78883163E+02      1.13665569E-02
   14      1.50774025E+02      1.07810138E-02
   15      1.22481235E+02      1.44003018E-02
   16      1.09962686E+02      1.68372506E-02
   17      1.08693261E+02      1.65423820E-02
   18      8.70668493E+01      1.45567228E-02
   19      7.86223268E+01      1.60954398E-02
   20      6.63133421E+01      1.58409026E-02
   21      5.48994649E+01      1.62297701E-02
   22      4.84681809E+01      1.70598940E-02
   23      3.82065733E+01      1.93239594E-02
   24      3.45325771E+01      2.57307997E-02
   25      6.25251157E+01      1.42581328E-02
   26      3.06258757E+01      3.58092831E-03
   27      2.67693285E+01      2.09325589E-02
   28      2.23239564E+01      2.10663245E-02
   29      2.79169016E+01      6.38790924E-03
   30      1.71130755E+01      1.12019750E-02
 
    Final cost function J  =  18175.794121514464
 
Timing for Time elapsed in 3dvar:  163.83554 elapsed seconds.


Files removed:
--------------

 None.

Files added:
------------
 external/RSL/RSL/makefile.crayx1

Files modified:
---------------

 da_3dvar/src/DA_Obs/DA_Read_Obs.inc
 da_3dvar/src/DA_Obs/DA_Scan_Obs.inc
 arch/configure.defaults_3dvar
 arch/postamble_3dvar
 da_3dvar/module_wrf_3dvar_io.F
 da_3dvar/src/DA_Setup_Structures/da_setup_obs_structures_bufr.inc
 da_3dvar/src/DA_Setup_Structures/da_setup_runconstants.inc
 da_3dvar/src/DA_Tools/DA_Read_Namelist.inc
 da_3dvar/src/da_bufrlib/da_bufrlib.f
 external/RSL/RSL/makefile
 external/RSL/RSL/rsl_malloc.c
 external/io_int/makefile
 external/io_netcdf/makefile
 external/io_netcdf/wrf_io.F90
 frame/collect_on_comm.c
 frame/module_domain.F
 frame/module_io.F
 frame/pack_utils.c
 frame/wrf_num_bytes_between.c

Minor-tag:

port_to_crayx1

