<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html xmlns:v="urn:schemas-microsoft-com:vml"
 xmlns:o="urn:schemas-microsoft-com:office:office"
 xmlns:w="urn:schemas-microsoft-com:office:word"
 xmlns="http://www.w3.org/TR/REC-html40">
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <meta name="ProgId" content="Word.Document">
  <meta name="Generator" content="Microsoft Word 9">
  <meta name="Originator" content="Microsoft Word 9">
  <link rel="File-List" href="./wrf3dvar_tutorial_files/filelist.xml">
  <link rel="Edit-Time-Data"
 href="./wrf3dvar_tutorial_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>dmbarker</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>dmbarker</o:LastAuthor>
  <o:Revision>52</o:Revision>
  <o:TotalTime>685</o:TotalTime>
  <o:Created>2003-05-28T16:37:00Z</o:Created>
  <o:LastSaved>2003-07-03T22:01:00Z</o:LastSaved>
  <o:Pages>3</o:Pages>
  <o:Words>928</o:Words>
  <o:Characters>5291</o:Characters>
  <o:Company>NCAR/UCAR</o:Company>
  <o:Lines>44</o:Lines>
  <o:Paragraphs>10</o:Paragraphs>
  <o:CharactersWithSpaces>6497</o:CharactersWithSpaces>
  <o:Version>9.2720</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Print</w:View>
 </w:WordDocument>
</xml><![endif]-->
  <style>
<!--
 /* Font Definitions */
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:128;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1 -369098753 63 0 4129279 0;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:128;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1 -369098753 63 0 4129279 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
h2
	{margin-right:0in;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:"Times New Roman";
	color:black;
	font-weight:bold;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
a:link, span.MsoHyperlink
	{color:#0000EE;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:#551A8B;
	text-decoration:underline;
	text-underline:single;}
p
	{margin-right:0in;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-even-footer:url("./wrf3dvar_tutorial_files/header.htm") ef1;
	mso-footer:url("./wrf3dvar_tutorial_files/header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:1384328210;
	mso-list-type:hybrid;
	mso-list-template-ids:-633317448 -1336895216 1922851274 -188583760 1930702286 -1629831842 785158028 -1707990890 1864417160 1864796690;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1
	{mso-list-id:1529761614;
	mso-list-type:hybrid;
	mso-list-template-ids:820707210 471728756 2110561850 -1891328646 -838690718 -2103688310 1412833954 322484960 -1837445496 -303523080;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
  </style><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1027"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>
<body bgcolor="white" lang="EN-US" link="#0000ee" vlink="#551a8b"
 style="" alink="#ff0000">
<div class="Section1">
<p align="center" style="text-align: center;"><b><span
 style="font-size: 18pt; font-family: Arial;">WRF 3D-Var<br>
</span></b></p>
<p style="text-align: justify;"><b><span
 style="font-size: 18pt; font-family: Arial;">1. Introduction<br>
</span></b></p>
<p align="center" style="text-align: center;"><b><span
 style="font-size: 18pt; font-family: Arial;"><o:p></o:p></span></b></p>
<p style="text-align: justify;"><span style="font-family: Arial;">Data
assimilation
is the technique by which <b>observations</b> are combined with an NWP
product
(the <b>first guess</b> or background forecast) and their respective
error statistics to provide an improved estimate (the <b>analysis</b>)
of the
atmospheric (or oceanic, Jovian, whatever) state. Variational (Var)
data
assimilation achieves this through the iterative minimization of a
prescribed
cost (or penalty) function. Differences between the analysis and
observations/first guess are penalized (damped) according to their
perceived
error. The difference between three-dimensional (3D-Var) and
four-dimensional
(4D-Var) data assimilation is the use of a numerical forecast model in
the
latter.<br>
</span></p>
<p style="text-align: justify;"><span style="font-family: Arial;">MMM
Division of NCAR supports a model-space 3D-Var system (wrf3dvar) for
use by NCAR staff and collaborators, and is also freely available </span><span
 style="font-family: Arial;">to the general community,</span><span
 style="font-family: Arial;"> together with further documentation, test
results, plans etc., from the </span><span style="font-family: Arial;">WRF
3D-Var web-page <a href="http://www.wrf-model.org/WG4">http://www.wrf-model.org/WG4</a>.
The documentation you are reading is the "Users Guide" for those
interested in downloaded and running the code. This text also forms the
documentation for the online tutorial. The online
WRF 3D-Var
tutorial is recommended for people who are<o:p></o:p></span></p>
<ul type="disc">
  <li class="MsoNormal" style="text-align: justify;"><span
 style="font-family: Arial;">Potential users of WRF 3D-Var who want to
learn how to run 3D-Var by themselves;</span></li>
  <li class="MsoNormal" style="text-align: justify;"><span
 style="font-family: Arial;">New users who plan on coming to the NCAR
WRF 3D-Var tutorial - for you we recommend that you try this tutorial
before you come to NCAR whether you are able or unable to register for
practice sessions, and this will hopefully help you to understand the
lectures a lot better;<o:p></o:p></span></li>
  <li class="MsoNormal" style="text-align: justify;"><span
 style="font-family: Arial;">Users who are looking for references to
diagnostics, namelist options etc - look for 'Miscellanies' and
'Trouble Shooting' sections on each page.</span></li>
</ul>
<p style="text-align: justify;"><span style="font-family: Arial;">If
you are a new 3D-Var user, this tutorial is designed to take you
through WRF 3D-Var-related
programs step by step. If you have used 3D-Var before, you may find
useful
information here too. If you don't know anything about 3D-Var, you
should first
read the 3D-Var Overview available from the WRF 3D-Var web-page <a
 href="http://www.wrf-model.org/WG4">http://www.wrf-model.org/WG4</a>.&nbsp;
Also view the Online 3D-Var Tutorial Presentations taken from the
tutorial held at NCAR (to come).<o:p></o:p></span></p>
<p style="text-align: justify;"><b><u><span style="font-family: Arial;">Goals
Of
This 3DVAR Tutorial</span></u></b><u><o:p></o:p></u></p>
<p style="text-align: justify;"><span style="font-family: Arial;">In
this 3DVAR
tutorial, you will learn how to run the various 3D-Var related
programs. In the online tutorial, you are supplied with sample (BUFR
format) observation files and WRF format first
guesses. In your own work, you will need to create these yourselves. <o:p></o:p></span></p>
<p style="text-align: justify;"><span style="font-family: Arial;">Before
usiing your own data, we suggest that
you start by running through the 3D-Var related programs at least once
using
the test cases. This serves two purposes: First you can learn how to
run the
programs with data we have tested ourselves, and second you can test
whether your computer is adequate to run the
entire modeling system. After you have done this tutorial, you can try </span><span
 style="font-family: Arial;"><o:p></o:p></span></p>
<ul type="disc">
  <li class="MsoNormal" style="text-align: justify;"><span
 style="font-family: Arial;">Running some of the other, more
computationally intensive, case studies (not yet available).<o:p></o:p></span></li>
  <li class="MsoNormal" style="text-align: justify;"><span
 style="font-family: Arial;">Experimenting with some of the many
namelist variables (WARNING: It is impossible to test every code
upgrade with every permutation of computer, compiler, number of
processors, case, namelist option, etc so please modify only those you
understand!). Good examples include withholding observations and tuning
background error coefficients.<o:p></o:p></span></li>
  <li class="MsoNormal" style="text-align: justify;"><span
 style="font-family: Arial;">Running with your own domain. Hopefully,
our test cases will have prepared you (and us!) for the variety of ways
in which you may wish to run 3D-Var.<o:p></o:p></span></li>
</ul>
<p style="text-align: justify;"><span style="font-family: Arial;">As
you are going
through the online tutorial, you will download program tar files and
data to your
local computer, compile and run on it. Do you know what machine you are
going
to use to run 3D-Var related programs? What compilers do you have on
the
machine?</span><span style=""><o:p></o:p></span></p>
<p style="text-align: justify;"><span style="font-family: Arial;">Running
3D-Var
requires a Fortran 90 compiler. We currently support the following
platforms: <b>IBM</b>,
<b>Compaq (DEC Alpha), SGI</b> and <b>PC/Linux</b> (with <a
 href="http://www.pgroup.com/">Portland Group</a> compiler). Please let
us know
if this does not meet your requirements, and we will attempt to add
other machines
to our list of supported architectures as resources allow. Although
we're
interested to hear of your experiences modifying compile options, we do
not yet
recommend making changes to the configure file used to compile 3D-Var.<o:p></o:p></span></p>
<p style="text-align: justify;"><b><u><span style="font-family: Arial;">Tutorial
Schedule<o:p></o:p></span></u></b></p>
<p style="text-align: justify;"><span style="font-family: Arial;">We
recommend you
follow the online tutorial in the order of the sections listed below.
As mentioned
above, the tutorial assumes you know how to run the WRF Standard
Initialization (SI) as well as have a basic understanding of the WRF
framework.</span></p>
<p style="text-align: justify;"><span style="font-family: Arial;">The
online tutorial is broken down into the following sections.</span></p>
<p style="text-align: justify;"><span style="font-family: Arial;"><a
 href="http://www.mmm.ucar.edu/wrf/WG4/tutorial/wrf3dvar_download_data.htm">a)
Download Test Data</a> &#8211; This page describes how to access test
datasets to run 3D-Var.<u><o:p></o:p></u></span></p>
<p style="text-align: justify;"><u><span style="font-family: Arial;"><a
 href="http://www.mmm.ucar.edu/wrf/WG4/tutorial/wrf3dvar_setup.htm">b)<span
 style="color: blue;"> Setting up 3D-Var</span></a></span></u><span
 style="font-family: Arial;"> &#8211; In this part of the 3D-Var tutorial you
will
download and compile 3D-Var.<o:p></o:p></span></p>
<p style="text-align: justify;"><u><span style="font-family: Arial;">c)
3D-Var &#8211; Run
Pseudo Single Observation Test (PSOT)</span></u><span
 style="font-family: Arial;">
&#8211; In this section, you will learn how to run 3D-Var using only a single
&#8220;pseudo&#8221;
(or &#8220;bogus&#8221;) observation (to come).<o:p></o:p></span></p>
<p style="text-align: justify;"><u><span style="font-family: Arial;"><a
 href="http://www.mmm.ucar.edu/wrf/WG4/tutorial/wrf3dvar_case_study.htm">d)<span
 style="color: blue;"> 3D-Var &#8211; Run Case Study</span></a></span></u><span
 style="font-family: Arial;"> &#8211; In this section, you will learn how to
run 3D-Var
using observations and a first guess from an actual operational system.<o:p></o:p></span></p>
<p style="text-align: justify;"><u><span style="font-family: Arial;"><a
 href="http://www.mmm.ucar.edu/wrf/WG4/tutorial/wrf3dvar_diagnostics.htm">e)<span
 style="color: blue;"> 3D-Var &#8211; Diagnostics</span></a></span></u><span
 style="font-family: Arial;"> &#8211; 3D-Var produces a number of diagnostics
file that
contain useful information on how the assimilation has performed. This
section
will introduce you to some of these files, and what to look for.<o:p></o:p></span></p>
<p style="text-align: justify;"><u><span style="font-family: Arial;">f)
Updating
lateral boundary conditions</span></u><span style="font-family: Arial;">
&#8211; Before
running a WRF forecast, you must first modify the tendencies within the
lateral
boundary condition files to be consistent with the new 3D-Var initial
conditions. This section shows you how.<o:p></o:p></span></p>
<p style="text-align: justify;"><u><span style="font-family: Arial;">g)
Production
of the background error statistics via the &#8220;NMC-method&#8221;</span></u><span
 style="font-family: Arial;"> (to come)&#8211; The &#8220;NMC-method&#8221; calculates a
climatological estimate (be) of background error for your domain. This
is an
off-line calculation, done if you are confident enough to calculate
your own
background error statistics, have a set of WRF forecasts to difference
for your
domain, and are willing to work to tune and improve your results! <o:p></o:p></span></p>
<p style="text-align: justify;"><span style="font-family: Arial;">OK,
if you've run the online tutorial, and you&#8217;re
still not quite sure what has happened at this point, perhaps the
presentations
from the NCAR tutorial will help to answer your questions &#8211; see the
latest at
June 2003 3D-Var Tutorial Presentations. Alternatively, look to the
3D-Var Frequently Asked Questions for guidance. All these are available
from the </span><span style="font-family: Arial;">WRF 3D-Var web-page <a
 href="http://www.wrf-model.org/WG4">http://www.wrf-model.org/WG4</a></span></p>
<p><span style="font-family: Arial;">Once you are able to run all these
programs successfully,
and have spent some time looking at the variety of diagnostics output
that is
produced, we hope that you'll have some confidence in handling the
3D-Var system
programs when you start your cases. Good luck!</span> <br>
</p>
<div class="MsoNormal" align="center" style="text-align: center;">
<hr size="2" width="100%" align="center"></div>
<p align="center" style="text-align: center;"><span
 style="font-family: Arial; color: rgb(255, 102, 102);">For comments,
send email to</span><span
 style="font-family: Arial; color: rgb(0, 0, 153);"> <a
 href="mailto:wrfhelp@wrf-model.org"><span
 style="font-family: &quot;Times New Roman&quot;;">wrfhelp@wrf-model.org</span></a></span></p>
<p align="center" style="text-align: center;"><span
 style="font-family: Arial;">Last
Modified: June 2004</span></p>
</div>
</body>
</html>
