<html xmlns:v="urn:schemas-microsoft-com:vml"xmlns:o="urn:schemas-microsoft-com:office:office"xmlns:w="urn:schemas-microsoft-com:office:word"xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=Title content="3DVAR Tutorial"><meta name=Keywords content=""><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta name=ProgId content=Word.Document><meta name=Generator content="Microsoft Word 10"><meta name=Originator content="Microsoft Word 10"><link rel=File-List href="wrfvar-wrf_bc_files/filelist.xml"><link rel=Edit-Time-Data href="wrfvar-wrf_bc_files/editdata.mso"><!--[if !mso]><style>v\:* {behavior:url(#default#VML);}o\:* {behavior:url(#default#VML);}w\:* {behavior:url(#default#VML);}.shape {behavior:url(#default#VML);}</style><![endif]--><title>3DVAR Tutorial</title><!--[if gte mso 9]><xml> <o:DocumentProperties>  <o:Author>dmbarker</o:Author>  <o:Template>Normal</o:Template>  <o:LastAuthor>Jose Castilleja</o:LastAuthor>  <o:Revision>2</o:Revision>  <o:Created>2005-08-05T23:38:00Z</o:Created>  <o:LastSaved>2005-08-05T23:38:00Z</o:LastSaved>  <o:Pages>3</o:Pages>  <o:Words>217</o:Words>  <o:Characters>1237</o:Characters>  <o:Company>NCAR/UCAR</o:Company>  <o:Lines>10</o:Lines>  <o:Paragraphs>2</o:Paragraphs>  <o:CharactersWithSpaces>1519</o:CharactersWithSpaces>  <o:Version>10.260</o:Version> </o:DocumentProperties> <o:OfficeDocumentSettings>  <o:AllowPNG/> </o:OfficeDocumentSettings></xml><![endif]--><style><!-- /* Font Definitions */@font-face	{font-family:"Times New Roman";	panose-1:0 2 2 6 3 5 4 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Arial;	panose-1:0 2 11 6 4 2 2 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Courier New";	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-alt:Courier;	mso-font-charset:77;	mso-generic-font-family:modern;	mso-font-format:other;	mso-font-pitch:fixed;	mso-font-signature:50331648 0 0 0 1 0;} /* Style Definitions */p.MsoNormal, li.MsoNormal, div.MsoNormal	{mso-style-parent:"";	margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:12.0pt;	font-family:"Times New Roman";	color:black;}h2	{margin-right:0in;	mso-margin-top-alt:auto;	mso-margin-bottom-alt:auto;	margin-left:0in;	mso-pagination:widow-orphan;	mso-outline-level:2;	font-size:18.0pt;	font-family:"Times New Roman";	color:black;	font-weight:bold;}a:link, span.MsoHyperlink	{color:#0000EE;	text-decoration:underline;	text-underline:single;}a:visited, span.MsoHyperlinkFollowed	{color:#551A8B;	text-decoration:underline;	text-underline:single;}p.MsoPlainText, li.MsoPlainText, div.MsoPlainText	{margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:"Courier New";	color:windowtext;}p	{margin-right:0in;	mso-margin-top-alt:auto;	mso-margin-bottom-alt:auto;	margin-left:0in;	mso-pagination:widow-orphan;	font-size:12.0pt;	font-family:"Times New Roman";	color:black;}tt {}@page Section1	{size:8.5in 11.0in;	margin:1.0in 1.25in 1.0in 1.25in;	mso-header-margin:.5in;	mso-footer-margin:.5in;	mso-paper-source:0;}div.Section1	{page:Section1;} /* List Definitions */@list l0	{mso-list-id:1433359989;	mso-list-type:hybrid;	mso-list-template-ids:923304026 67698711 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}@list l0:level1	{mso-level-number-format:alpha-lower;	mso-level-text:"%1\)";	mso-level-tab-stop:.5in;	mso-level-number-position:left;	text-indent:-.25in;}ol	{margin-bottom:0in;}ul	{margin-bottom:0in;}--></style><!--[if gte mso 9]><xml> <o:shapedefaults v:ext="edit" spidmax="2050"/></xml><![endif]--><!--[if gte mso 9]><xml> <o:shapelayout v:ext="edit">  <o:idmap v:ext="edit" data="1"/> </o:shapelayout></xml><![endif]--></head><body bgcolor=white lang=EN-GB link="#0000ee" vlink="#551a8b" style='tab-interval:.5in'><div class=Section1><p style='text-align:justify'><span lang=EN-US style='font-size:18.0pt;font-family:Arial;color:blue'><b>f. Updating WRF lateral boundary conditions<o:p></o:p></b></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'>Beforerunning a forecast, you must first modify the tendencies within the lateralboundary condition files to be consistent with the new 3D-Var initialconditions. This is a simple procedure performed by the WRF utility WRF_BC.<o:p></o:p></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><b><u>i.Accessing the WRF_BC code</u></b></span><span lang=EN-US><u> <o:p></o:p></u></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'>First,go to your working directory and download the WRF_BC code from<o:p></o:p></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><ahref="http://www.mmm.ucar.edu/wrf/WG4/wrfvar/WRF_BC_v2.1.tar.gz">http://www.mmm.ucar.edu/wrf/WG4/wrfvar/WRF_BC_v2.1.tar.gz</a><o:p></o:p></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'>Onceyou have it on your machine, type the following to unzip and untar it:</span><spanlang=EN-US> </span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><b>gunzipWRF_BC_V2.1.tar.gz<o:p></o:p></b></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><b>tar-xvf WRF_BC_V2.1.tar</b></span><span lang=EN-US> </span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'>Afterthis, you should see a program directory WRF_BC/ created in your workingdirectory. If so, tidy up with the command<o:p></o:p></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><b>rmWRF_BC_V2.1.tar<o:p></o:p></b></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'>cd tothe WRF_BC_V2.1 directory:</span><span lang=EN-US> </span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><b>cdWRF_BC_V2.1<o:p></o:p></b></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><b><u>ii.Compiling WRF_BC</u></b></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'>TheREADME file contains information on the role of WRF_BC, and how to compile. Todo the latter, simply type<o:p></o:p></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><b>make<o:p></o:p></b></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'>Youwill then see an executable by typing<o:p></o:p></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><b>ls-l update_wrf_bc.exe<o:p></o:p></b></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'><b><u>ii.Running WRF_BC</u></b></span></p><p style='text-align:justify'><span lang=EN-US style='font-family:Arial'>The update_wrf_bc.exeis run via the <a href="http://www.mmm.ucar.edu/wrf/WG4/wrfvar/new_bc.csh.txt">new_bc.csh</a>script. Simply supply the names of the input analysis, lateral boundarycondition, and WRF-Var analysis file names, The output can then be used as theinitial conditions for WRF.<o:p></o:p></span></p><div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><hr size=2 width="100%" align=center></span></div><p><span lang=EN-US style='font-family:Arial'><b>Trouble Shooting:</b></span><spanlang=EN-US> </span></p><p><span lang=EN-US style='font-family:Arial'><b>1.</b></span><span lang=EN-USstyle='font-family:Arial'> If you have questions, ask </span><span lang=EN-USstyle='font-family:Arial;color:#000099'><a href="mailto:wrfhelp@wrf-model.org"><spanstyle='font-family:"Times New Roman"'>wrfhelp@ucar.edu</span></a></span><spanlang=EN-US> </span></p><div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><hr size=2 width="100%" align=center></span></div><p class=MsoNormal align=center style='text-align:center'><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><span lang=EN-USstyle='font-family:Arial'><a href="wrfvar-tutorial.htm">Return to WRF-VarTutorial Page</a><o:p></o:p></span></p><p class=MsoNormal><span lang=EN-US style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p></div></body></html>