#=============================
# Start of preamble
#=============================

# System properties

SHELL           =       /bin/sh

# Macros, these should be generic for all machines

LN      = ln -sf
MAKE    = make -i -r
RM      = /bin/rm -f
MV      = /bin/mv -f
CP      = /bin/cp -f
AR      = ar
M4      = m4
RANLIB	= ranlib
CPP     = /lib/cpp

.SUFFIXES: .F90 .F .i .o .f .c

# Substituted by Config_new.pl

DEVTOP      = CONFIGURE_DEVTOP
PERL        = CONFIGURE_PERL_PATH
REGISTRY    = CONFIGURE_REGISTRY
NETCDF_PATH = CONFIGURE_NETCDF_PATH
NETCDF_LIB  = CONFIGURE_NETCDF_LIB
PHDF5_PATH  = CONFIGURE_PHDF5_PATH
RTTOV_PATH  = CONFIGURE_RTTOV_PATH
RTTOV_LIB   = CONFIGURE_RTTOV_LIB
ENVCOMPDEFS = CONFIGURE_COMPILEFLAGS
FPPFLAGS1   = CONFIGURE_NETCDF_FLAG CONFIGURE_RTTOV_FLAG $(WORDSIZE_DEF) \
              -DLIMIT_ARGS
WRFIO       = CONFIGURE_WRFIO_NF wrfio_int wrfio_grib1
INCS        = -I. -I./inc CONFIGURE_RTTOV_INC

# Short cuts to directories

EXTERNAL  = $(DEVTOP)/external

PHDF5_LIB  = -L$(EXTERNAL)/io_phdf5 -lwrfio_phdf5 -L$(PHDF5_PATH)/lib -lhdf5_fortran -lhdf5 -lm -lz -L$(PHDF5PATH)/lib -lsz

#### Get core settings from environment (set in compile script)
#### Note to add a core, this has to be added to.

# Does not work yet
# VAR4DPOSS=-DVAR4DPOSS

COREDEFS = -DEM_CORE=1        \
           -DDA_CORE=1        \
           -DNMM_CORE=0       \
           -DEXP_CORE=0       \
           -DCOAMPS_CORE=0    \
           -DNMM_MAX_DIM=1250

SOLVER=em

#### For wrfvar, always use RWORDSIZE 8

RWORDSIZE	=	8
DWORDSIZE	=	8
WORDSIZE_DEF	=	-DIWORDSIZE=4 -DDWORDSIZE=$(DWORDSIZE) -DRWORDSIZE=$(RWORDSIZE) -DLWORDSIZE=4

#### Single location for defining total number of domains.  You need
#### at least 1 + 2*(number of total nests).  For example, 1 coarse
#### grid + three fine grids = 1 + 2(3) = 7, so MAX_DOMAINS=7.

MAX_DOMAINS	=	1
MAX_PROC	=	1024

#### DM buffer length for the configuration flags.

CONFIG_BUF_LEN	=	8192

#### Default ESMF dependence for embedded ESMF time manager ####
ESMFCOUPLING        = 0
ESMF_MOD_DEPENDENCE = module_utility.o ESMF_Mod_Wrapper.o ESMF_Indirection.o

# defaults for occasional architecture specific settings

SED_FTN         = sed -f standard.sed
FCHOST          =
CPPTRADFLAG     =
OMP             =
OMPCPP          =
RSL_PATH        =            
MPI_LIB		=
DM_CPP_FLAGS	=

#### Architecture specific settings ####

