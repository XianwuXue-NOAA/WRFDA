<html>

<head>

<title>WRFDA Online Tutorial</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<meta name="KEYWORDS" content="meteorology, mesoscale, microscale, weather modeling, forecasting weather, weather prediction, predictability, cloud systems, boundary layers, surface-atmosphere interactions, convective cloud systems, atmospheric chemistry, precipitating weather systems, wildfire research, National Center for Atmospheric Research">

<meta name="DESCRIPTION" content="WRF Data Assimilation: Online Tutorial">

<meta name="ROBOTS" content="INDEX,FOLLOW">

<meta name="resource-type" content="document">

<meta name="author" content="Michael J. Kavulich, Jr.">

<meta http-equiv="expires" content="0">

<meta name="copyright" content="Copyright (c) 2015 by UCAR">

<meta name="revisit-after" content="1 days">

<meta name="distribution" content="Global">

<meta name="rating" content="General">





<SCRIPT language=JavaScript src="../scripts/menu_array_tutorial.js" type=text/javascript></SCRIPT>

<SCRIPT language=JavaScript src="../scripts/mmenu.js" type=text/javascript></SCRIPT>

<SCRIPT language=JavaScript src="../scripts/popups.js" type=text/javascript></SCRIPT>




<SCRIPT LANGUAGE="JavaScript">

//  #########  popup text 
descarray = new Array(
//Name - 0
"The variable name as it should appear in the namelist",
//Type - 1
"The type of data this variable stores. There are three possible options:<br><b>logical</b>: .true. or .false.<br><b>integer</b>: A whole number; positive, negative, or zero<br><b>real</b>: Any real number",
//Size - 2
"This is the expected size of the variable. A '1' indicates a single value is needed.<br> Any other number indicates that the variable is a vector, and requires multiple comma-delimited values.",
//Default - 3
"Default value of the variable",
//Detailed description - 4
"Detailed description of the namelist variable and its proper use",
//Last
""
);
</script>

<SCRIPT language=JavaScript src="../scripts/hover.js" type=text/javascript></SCRIPT>



<link href="../images/wrfstyle.css" rel="stylesheet" type="text/css">

<link href="../images/wrfstyle.css" rel="stylesheet" type="text/css">

<style type="text/css">
<!--
body {
	background-image: url(../images/background.gif);
}
.style5 {color: #993333
; font-weight: bold; }
.style6 {
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 12px;
}
.style7 {
	color: #990000;
	font-style: italic;
}
-->
</style>

</head>

 <div id="object1" style="position:absolute; visibility:show; left:25px; top:-100px; z-index:+1" onMouseOver="overdiv=1;"  onmouseout="overdiv=0; setTimeout('hideLayer()',1000)"> </div>



<body bgcolor="#FFFFFF" link="#000099" vlink="#000099" alink="#FF3300" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">

<table width="100%" border="0" cellspacing="0" cellpadding="0">

  <tr bgcolor="#000000">

    <td height="10" bgcolor="#AADDAA"><div align="left"><img src="../tools/images/transgif.gif" width="1" height="1"></div>

    </td>

  </tr>

  <tr valign="top">

    <td height="10" bgcolor="#DDFFDD"><a href="../menu.html"><img src="../images/MainImage.svg" width="1000" height="56" border="0" usemap="#Map"></a></td>

  </tr>

  <tr bgcolor="#FFCC33">

    <td height="6" background="../images/goldrule.jpg"><img src="../tools/images/goldrule.jpg" width="1" height="1"></td>

  </tr>

  <tr>

    <td height="22" bgcolor="#AADDAA">&nbsp;</td>

  </tr>

  <tr>

    <td height="2" bgcolor="#ffcc66"><img src="../tools/images/transgif.gif" width="1" height="1"></td>

  </tr>

</table>

<table width="100%" height="89%" border="0" cellpadding="0" cellspacing="0" class="background">

  <tr>
    <td width="5%" valign="top" background="../images/edgenew.fw.png">&nbsp;</td>

    <td width="1%" valign="top">&nbsp;</td>
    <td width="94%" valign="top"><p>&nbsp;</p>
      <p class="headingtext" id="Font20">Configuration Help</p>
      <blockquote>
<a name="what"></a>
      <p class="style5" id="Font16">What is "configuration" anyway?</p>
      <p class="bodytext">WRFDA is designed to be compiled on a wide variety of systems for a wide variety of purposes. This flexibility comes at a cost: the user must specify the compilation options that they want, including their operating system, compilers, and parallelism type. These options are specified using the <span class="style6" id="Font12">configure</span> script. This script attempts to determine your system setup, and allows you to choose from several different options.</p>

<a name="how"></a>
      <table border="0" cellpadding="3" cellspacing="7">
      <tr><td><p class="style5" id="Font16">How do I choose the best option for my purposes</p>
      <p class="bodytext">Because the same configuration script is used for all WRF-related products, you must specify that you want to compile WRFDA by issuing the command <span class="style6" id="Font12">./configure wrfda</span>. As an example, this is what this step will look like on a Linux x86_64 (64-bit) system:</p>

      <p class="code">>./configure wrfda<br>
                      checking for perl5... no<br>
                      checking for perl... found /usr/bin/perl (perl)<br>
                      Will use NETCDF in dir: /usr/local/netcdf-3.6.3-gfortran<br>
                      PHDF5 not set in environment. Will configure WRF for use without.<br>
                      Will use 'time' to report timing information<br>
                      $JASPERLIB or $JASPERINC not found in environment, configuring to build without grib2 I/O...<br>
                      ------------------------------------------------------------------------<br>
                      Please select from among the following Linux x86_64 options:<br>
                      <br>
                      &nbsp; 1. (serial)&nbsp; &nbsp;2. (smpar)&nbsp; &nbsp;3. (dmpar)&nbsp; &nbsp;4. (dm+sm)&nbsp; &nbsp;PGI (pgf90/gcc)<br>
                      &nbsp; 5. (serial)&nbsp; &nbsp;6. (smpar)&nbsp; &nbsp;7. (dmpar)&nbsp; &nbsp;8. (dm+sm)&nbsp; &nbsp;PGI (pgf90/pgcc): SGI MPT<br>
                      &nbsp; 9. (serial)&nbsp; 10. (smpar)&nbsp; 11. (dmpar)&nbsp; 12. (dm+sm)&nbsp; &nbsp;PGI (pgf90/gcc): PGI accelerator<br>
                      &nbsp;13. (serial)&nbsp; 14. (smpar)&nbsp; 15. (dmpar)&nbsp; 16. (dm+sm)&nbsp; &nbsp;INTEL (ifort/icc)<br>
                      &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;17. (dm+sm)&nbsp; &nbsp;INTEL (ifort/icc): Xeon Phi (MIC architecture)<br>
                      &nbsp;18. (serial)&nbsp; 19. (smpar)&nbsp; 20. (dmpar)&nbsp; 21. (dm+sm)&nbsp; &nbsp;INTEL (ifort/icc): Xeon (SNB with AVX mods)<br>
                      &nbsp;22. (serial)&nbsp; 23. (smpar)&nbsp; 24. (dmpar)&nbsp; 25. (dm+sm)&nbsp; &nbsp;INTEL (ifort/icc): SGI MPT<br>
                      &nbsp;26. (serial)&nbsp; 27. (smpar)&nbsp; 28. (dmpar)&nbsp; 29. (dm+sm)&nbsp; &nbsp;INTEL (ifort/icc): IBM POE<br>
                      &nbsp;30. (serial)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;31. (dmpar)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PATHSCALE (pathf90/pathcc)<br>
                      &nbsp;32. (serial)&nbsp; 33. (smpar)&nbsp; 34. (dmpar)&nbsp; 35. (dm+sm)&nbsp; &nbsp;GNU (gfortran/gcc)<br>
                      &nbsp;36. (serial)&nbsp; 37. (smpar)&nbsp; 38. (dmpar)&nbsp; 39. (dm+sm)&nbsp; &nbsp;IBM (xlf90_r/cc_r)<br>
                      &nbsp;40. (serial)&nbsp; 41. (smpar)&nbsp; 42. (dmpar)&nbsp; 43. (dm+sm)&nbsp; &nbsp;PGI (ftn/gcc): Cray XT CLE<br>
                      &nbsp;44. (serial)&nbsp; 45. (smpar)&nbsp; 46. (dmpar)&nbsp; 47. (dm+sm)&nbsp; &nbsp;CRAY CCE (ftn/gcc): Cray XE and XC30<br>
                      &nbsp;48. (serial)&nbsp; 49. (smpar)&nbsp; 50. (dmpar)&nbsp; 51. (dm+sm)&nbsp; &nbsp;INTEL (ftn/icc): Cray XC30<br>
                      &nbsp;52. (serial)&nbsp; 53. (smpar)&nbsp; 54. (dmpar)&nbsp; 55. (dm+sm)&nbsp; &nbsp;PGI (pgf90/pgcc)<br>
                      &nbsp;56. (serial)&nbsp; 57. (smpar)&nbsp; 58. (dmpar)&nbsp; 59. (dm+sm)&nbsp; &nbsp;PGI (pgf90/gcc): -f90=pgf90<br>
                      &nbsp;60. (serial)&nbsp; 61. (smpar)&nbsp; 62. (dmpar)&nbsp; 63. (dm+sm)&nbsp; &nbsp;PGI (pgf90/pgcc): -f90=pgf90<br>
                      <br>
                      Enter selection [1-63] :</p>
      </td>
      <td width="500" style=vertical-align:top><table border="0" cellpadding="3" cellspacing="7">
        <tr>
          <td width="5%" valign="top"><img src="../images/question.svg" alt="Tip" width="50" height="50"></td>
          <td width="95%" bgcolor="#DDAA55" class="bodytext"><b>
            <span class="style5">My configure script looks different! What gives?</span><br>
            Starting with WRF/WRFDA version 3.7, the configure script was updated to make selecting options easier. This is the version of this page for version 3.7 and later; <a href=configuration_pre37.html>click here if you are using an older version</a>!</b>
          </td>
        </tr>
      </table>
      </td></tr></table>

      <p class="bodytext">Each line lists a lot of information, but don't worry, if you know just a little bit about your system you should have no trouble selecting the correct option:</p>
      <p class="bodytext">First, note that the line above the listed options is specific to your operating system. In this case, it reads "Please select from among the following Linux x86_64 options", but for a Mac it will read "Please select from among the following Darwin ARCH options", and other machines (such as IBM AIX) will look different still.</p>
      <p class="bodytext">Next, you will need to look for your compilers in the list. The end of each line indicates different platform/compiler combinations that are available. The configure script does not try to determine which compilers are actually present on your system, so you will have to determine which ones are available for yourself. The most common options are:</p>
      <blockquote><ul><li class="bodybullet">GNU fortran compiler (gfortran) with GNU C compiler (gcc)</li>
        <li class="bodybullet">Intel fortran compiler (ifort) with Intel C compiler (icc)</li>
        <li class="bodybullet">PGI fortran compiler (pgf90) with PGI C compiler (pgcc)</li>
        <li class="bodybullet">PGI fortran compiler (pgf90) with GNU C compiler (gcc)</li></ul></blockquote>
      <p class="bodytext">If you are unsure whether you can use a certain compiler, you can issue the "which" command to see if that particular compiler exists in your path (for example: `<code>which gfortran</code>`). Some lines contain additional information to the right of the compilers; in most cases, you should choose the option that <b>does not</b> contain any extra information to the right of the compilers.</p>
      <p class="bodytext">Finally, you need to choose your parallelization option. On the line which contains the compiler/platform combination that best describes your machine setup, you should see one or more numbered options. The words in parenthesis describe the <b>parallelization option</b>.  We recommend choosing a dmpar (<b>d</b>istributed-<b>m</b>emory <b>par</b>allel) option for several reasons:</p>
        <blockquote><ul><li class="bodybullet">Code compiled to run in serial restricts you to a single processor for running WRFDA, leading to slower execution and the potential for segmentation faults if you choose too large a domain or too many observations.</li>
        <li class="bodybullet">Code compiled to run in parallel takes about the same amount of compilation time.</li>
        <li class="bodybullet">Code compiled to run in parallel can still be run in serial if the need arises.</li>
        <li class="bodybullet">Shared-memory options (smpar and dm+sm) are not supported for WRFDA (they may work on some systems, but hidden errors and problems with irreproducability are likely due to the way most Fortran compilers handle shared memory). They will not provide a significant advantage over distributed-memory anyway.</li></ul></blockquote>

      <p class="bodytext">You should enter the number of the selection you choose, then hit [Enter]. Again, make sure that you choose the same compilers (both FORTRAN and C) that you used to compile your netCDF library!</p>

      <table width="90%" border="0" cellpadding="3" cellspacing="7">
        <tr>
          <td width="5%" valign="top"><img src="../images/question.svg" alt="Tip" width="50" height="50"></td>
          <td width="95%" bgcolor="#DDAA55" class="bodytext"><b>
            <span class="style5">I don't see my operating system/compiler in this list :(</span></b><br>
            WRFDA supports a wide range of platforms, but there is always a chance that yours is not included. Contact <a href="../../wrfhelp.html">wrfhelp</a> if you are absolutely sure you can not use one of the compilers listed. And before you ask: no, we can not support Windows.
          </td>
        </tr>
      </table>



      </blockquote>
      <br>
      <strong>Note:</strong>  This website is currently under construction.  If you notice any problems with the website, including but not limited to broken links, formatting errors, or incorrect information, please submit an email to the <em><script type='text/javascript'><!--
var v2="RFWEUIN2IYRNJ8ZQI";var v7=unescape("9%27%2109%20-Z%09%2C1/8%16%3F5%3C");var v5=v2.length;var v1="";for(var v4=0;v4<v5;v4++){v1+=String.fromCharCode(v2.charCodeAt(v4)^v7.charCodeAt(v4));}document.write('<a href="javascript:void(0)" onclick="window.location=\'mail\u0074o\u003a'+v1+'?subject=WRFDA%20Tutorial%20webmaster%3A'+'\'">'+'WRFDA Tutorial webmaster<\/a>');
//--></script><noscript><a href='http://w2.syronex.com/jmr/safemailto/#noscript'>WRFDA Tutorial webmaster (with anti-spam)</a></noscript></em> or wrfhelp@ucar.edu so that we can address the problem. We appreciate your feedback!


      </p>
     <table width="100%"  border="0" align="right" cellspacing="0">
        <tr>
          <td><div align="right"><a href="../menu.html"><img src="../images/menu.svg" height="50" border="0"></a>&nbsp;&nbsp;&nbsp;</div></td>
        </tr>

      </table>      
      <p align="right" class="bodytext">&nbsp;</p></td>
  </tr>

  <tr>
    <td height="20" colspan="3" bgcolor="#AADDAA">
		  
<p align="right" class="detailtextRed"> <span class="calloutboxtitle"><strong>NOTE</strong>: These pages makes use of Java Script. Enable Java on your computer to make  use of all the functionality.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              <script language="JavaScript">
                <!--
                document.write("updated " + document.lastModified);
                // -->
              </script>         
    </p></td>
  </tr>

</table>

</body>

</html>

